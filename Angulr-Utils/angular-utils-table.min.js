angular.module("Utils-table",["Utils-table-Directives"]),UtilsTableDirectives=angular.module("Utils-table-Directives",["Utils-table-Filters"]),UtilsTableFilters=angular.module("Utils-table-Filters",[]),UtilsTableDirectives.directive("utilTable",[function(){return{restrict:"ECA",transclude:!0,template:'<table class="table table-bordered"><tr><th ng-repeat="titleItem in attrbutes" ng-show="attrbutes&&attrbutes.length">{{titleItem.title}}</th><th ng-show="options&&options.length">操作</th></tr><tr ng-repeat="rowData in dataSource|limitTo:limitLength"><td ng-repeat="attrInfo in rowData|filterAttributes:attrbutes">{{attrInfo}}</td><td ng-show="options&&options.length"><span ng-repeat="oItem in options" util-table-btn-options oitem="oItem" optiondata="rowData"></span></td></tr></table>',replace:!0,scope:{attrbutes:"=attrbutes",dataSource:"=datasource",options:"=options"},link:function(t,e,i){}}}]),UtilsTableDirectives.directive("utilTableBtnOptions",[function(){return{restrict:"ECA",transclude:!0,template:'<span><button class="btn btn-default {{oitem.class}}" style="margin-right:10px;" ng-style="oitem.style" ng-show="oitem.isBtn">{{oitem.title}}</button><select ng-show="oitem.isSelect"><option>无</option></select></span>',replace:!0,scope:{oitem:"=oitem",optiondata:"=optiondata"},link:function(t,e,i){console.log(t.oitem),t.oitem.isBtn&&e.bind("click",function(e){var i=t.oitem.callback||function(){};i(t.optiondata,t.oitem)}),t.oitem.isSelect&&e.bind("change",function(e){var i=t.oitem.callback||function(){};i(t.optiondata,t.oitem)})}}}]),UtilsTableFilters.filter("filterAttributes",[function(){return function(t,e){if(e&&e.length)for(var i={},n=0;n<e.length;n++)t[e[n].key]&&(i[e[n].key]=t[e[n].key]);else var i=t;return i}}]);